CLASS
OBJECTID Main
INHERITS
OBJECTID IO
'{'
TYPEID pal
'('
TYPEID s
':'
OBJECTID String
')'
':'
OBJECTID Bool
'{'
IF
TYPEID s
'.'
TYPEID length
'('
')'
'='
INT_CONST 0
THEN
BOOL_CONST true
ELSE
IF
TYPEID s
'.'
TYPEID length
'('
')'
'='
INT_CONST 1
THEN
BOOL_CONST true
ELSE
IF
TYPEID s
'.'
TYPEID substr
'('
INT_CONST 0
','
INT_CONST 1
')'
'='
TYPEID s
'.'
TYPEID substr
'('
TYPEID s
'.'
TYPEID length
'('
')'
'-'
INT_CONST 1
','
INT_CONST 1
')'
THEN
TYPEID pal
'('
TYPEID s
'.'
TYPEID substr
'('
INT_CONST 1
','
TYPEID s
'.'
TYPEID length
'('
')'
'-'
INT_CONST 2
')'
')'
ELSE
BOOL_CONST false
FI
FI
FI
'}'
';'
TYPEID i
':'
OBJECTID Int
';'
TYPEID main
'('
')'
':'
OBJECTID SELF_TYPE
'{'
'{'
TYPEID i
ASSIGN
'~'
INT_CONST 1
';'
TYPEID out_string
'('
STR_CONST "enter a string\\n"
')'
';'
IF
TYPEID pal
'('
TYPEID in_string
'('
')'
')'
THEN
TYPEID out_string
'('
STR_CONST "that was a palindrome\\n"
')'
ELSE
TYPEID out_string
'('
STR_CONST "that was not a palindrome\\n"
')'
FI
';'
'}'
'}'
';'
'}'
';'
